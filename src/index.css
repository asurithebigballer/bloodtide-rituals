@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Bloodtide Dark Theme - Blood Magic Aesthetic */
    --background: 0 0% 4%;
    --foreground: 0 10% 90%;

    --card: 0 5% 8%;
    --card-foreground: 0 10% 90%;

    --popover: 0 5% 6%;
    --popover-foreground: 0 10% 90%;

    --primary: 0 85% 35%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 5% 12%;
    --secondary-foreground: 0 10% 85%;

    --muted: 0 5% 15%;
    --muted-foreground: 0 10% 55%;

    --accent: 0 100% 45%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 85% 40%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 10% 18%;
    --input: 0 10% 15%;
    --ring: 0 85% 45%;

    --radius: 0.25rem;

    /* Custom Bloodtide tokens */
    --blood: 0 85% 35%;
    --blood-glow: 0 100% 50%;
    --blood-dark: 0 90% 20%;
    --obsidian: 0 0% 6%;
    --iron: 0 5% 18%;
    --bone: 35 25% 75%;
    --crimson: 0 100% 40%;
    --ash: 0 5% 40%;

    /* Gradients */
    --gradient-blood: linear-gradient(135deg, hsl(0 85% 35%) 0%, hsl(0 90% 20%) 100%);
    --gradient-dark: linear-gradient(180deg, hsl(0 0% 4%) 0%, hsl(0 5% 8%) 100%);
    --gradient-glow: radial-gradient(ellipse at center, hsl(0 100% 50% / 0.3) 0%, transparent 70%);

    /* Shadows */
    --shadow-blood: 0 0 30px hsl(0 100% 50% / 0.4);
    --shadow-deep: 0 20px 60px hsl(0 0% 0% / 0.8);

    --sidebar-background: 0 0% 4%;
    --sidebar-foreground: 0 10% 90%;
    --sidebar-primary: 0 85% 35%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 0 5% 12%;
    --sidebar-accent-foreground: 0 10% 90%;
    --sidebar-border: 0 10% 18%;
    --sidebar-ring: 0 85% 45%;
  }

  .dark {
    --background: 0 0% 4%;
    --foreground: 0 10% 90%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Crimson Text', Georgia, serif;
    cursor: none;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Cinzel', serif;
    font-weight: 700;
    letter-spacing: 0.05em;
  }
}

@layer components {
  /* Custom cursor styles */
  .custom-cursor {
    pointer-events: none;
    position: fixed;
    z-index: 9999;
    transform: translate(-50%, -50%);
    transition: transform 0.1s ease-out;
  }

  .cursor-trail {
    position: fixed;
    pointer-events: none;
    z-index: 9998;
    width: 8px;
    height: 8px;
    background: hsl(var(--blood-glow) / 0.6);
    border-radius: 50%;
    filter: blur(2px);
    animation: trail-fade 0.5s ease-out forwards;
  }

  @keyframes trail-fade {
    0% { opacity: 0.8; transform: scale(1); }
    100% { opacity: 0; transform: scale(0.3); }
  }

  /* Blood mist animation */
  .blood-mist {
    position: absolute;
    inset: 0;
    background: 
      radial-gradient(ellipse at 20% 80%, hsl(0 100% 30% / 0.15) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 20%, hsl(0 100% 30% / 0.1) 0%, transparent 50%),
      radial-gradient(ellipse at 50% 50%, hsl(0 100% 25% / 0.08) 0%, transparent 70%);
    animation: mist-drift 20s ease-in-out infinite;
  }

  @keyframes mist-drift {
    0%, 100% { 
      opacity: 0.7;
      transform: translateX(0) translateY(0);
    }
    25% { 
      opacity: 0.9;
      transform: translateX(20px) translateY(-10px);
    }
    50% { 
      opacity: 0.6;
      transform: translateX(-15px) translateY(15px);
    }
    75% { 
      opacity: 0.85;
      transform: translateX(10px) translateY(-5px);
    }
  }

  /* Pulsing runes */
  .rune-pulse {
    animation: rune-glow 3s ease-in-out infinite;
  }

  @keyframes rune-glow {
    0%, 100% { 
      opacity: 0.4;
      filter: drop-shadow(0 0 5px hsl(var(--blood-glow)));
    }
    50% { 
      opacity: 0.9;
      filter: drop-shadow(0 0 20px hsl(var(--blood-glow)));
    }
  }

  /* Ritual seal button */
  .ritual-seal {
    position: relative;
    background: var(--gradient-blood);
    border: 2px solid hsl(var(--blood-glow) / 0.5);
    box-shadow: var(--shadow-blood);
    transition: all 0.3s ease;
  }

  .ritual-seal::before {
    content: '';
    position: absolute;
    inset: -4px;
    border: 1px solid hsl(var(--blood-glow) / 0.3);
    border-radius: inherit;
    animation: seal-pulse 2s ease-in-out infinite;
  }

  @keyframes seal-pulse {
    0%, 100% { 
      opacity: 0.5;
      transform: scale(1);
    }
    50% { 
      opacity: 1;
      transform: scale(1.02);
    }
  }

  .ritual-seal:hover {
    box-shadow: 0 0 50px hsl(0 100% 50% / 0.6);
    transform: scale(1.05);
    border-color: hsl(var(--blood-glow));
  }

  /* Iron frame for gallery */
  .iron-frame {
    position: relative;
    border: 3px solid hsl(var(--iron));
    box-shadow: 
      inset 0 0 20px hsl(0 0% 0% / 0.5),
      0 10px 40px hsl(0 0% 0% / 0.7);
  }

  .iron-frame::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, hsl(0 100% 30% / 0) 0%, hsl(0 100% 30% / 0.1) 100%);
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  .iron-frame:hover::after {
    opacity: 0;
  }

  /* Scroll panel styling */
  .scroll-panel {
    background: 
      linear-gradient(180deg, hsl(var(--obsidian)) 0%, hsl(0 5% 10%) 100%);
    border: 1px solid hsl(var(--iron));
    box-shadow: 
      inset 0 2px 20px hsl(0 0% 0% / 0.5),
      0 20px 60px hsl(0 0% 0% / 0.6);
  }

  /* Fog overlay */
  .fog-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: 
      linear-gradient(180deg, 
        hsl(0 0% 4% / 0) 0%, 
        hsl(0 0% 4% / 0.3) 50%,
        hsl(0 0% 4%) 100%
      );
  }

  /* Title styling - subdued glow */
  .bloodtide-title {
    font-family: 'Cinzel', serif;
    font-weight: 900;
    letter-spacing: 0.15em;
    color: hsl(0, 85%, 35%);
    text-shadow: 
      0 0 15px hsl(0, 85%, 35% / 0.6),
      0 0 40px hsl(0, 85%, 30% / 0.4),
      0 4px 0 hsl(0, 85%, 20%);
  }

  /* Decorative runes */
  .rune-border {
    position: relative;
  }

  .rune-border::before,
  .rune-border::after {
    content: '⚔ ◆ ⚔';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    color: hsl(var(--blood) / 0.6);
    font-size: 1rem;
    letter-spacing: 1em;
  }

  .rune-border::before {
    top: -1.5rem;
  }

  .rune-border::after {
    bottom: -1.5rem;
  }
}

@layer utilities {
  .text-blood {
    color: hsl(var(--blood));
  }

  .text-blood-glow {
    color: hsl(var(--blood-glow));
  }

  .text-bone {
    color: hsl(var(--bone));
  }

  .text-ash {
    color: hsl(var(--ash));
  }

  .bg-obsidian {
    background-color: hsl(var(--obsidian));
  }

  .bg-iron {
    background-color: hsl(var(--iron));
  }

  .border-blood {
    border-color: hsl(var(--blood));
  }

  .border-iron {
    border-color: hsl(var(--iron));
  }

  .glow-blood {
    filter: drop-shadow(0 0 10px hsl(var(--blood-glow)));
  }
}
